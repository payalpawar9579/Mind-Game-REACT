{"ast":null,"code":"import React,{useState,useEffect}from'react';import ThreeBackground from'./ThreeBackground';import'./Game.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Game=()=>{const[step,setStep]=useState(0);const[message,setMessage]=useState(\"Press 'Start Game' to begin the magic!\");const[randomEvenNumber,setRandomEvenNumber]=useState(10);const[answer,setAnswer]=useState(5);const[timeLeft,setTimeLeft]=useState(300);const[isSpeaking,setIsSpeaking]=useState(false);// <-- Add this line\nconst[currentWordIndex,setCurrentWordIndex]=useState(-1);const initializeGame=()=>{const evenNumber=Math.floor(Math.random()*10)*2+2;setRandomEvenNumber(evenNumber);setAnswer(evenNumber/2);};const startGame=()=>{setStep(1);setMessage(\"Think of a number in your mind, and let’s do some magic with it!\");setTimeLeft(300);initializeGame();};useEffect(()=>{if(timeLeft>0&&step>0&&step<=5){const timerId=setInterval(()=>setTimeLeft(prev=>prev-1),1000);return()=>clearInterval(timerId);}else if(timeLeft===0){setMessage(\"Time's up! Please restart the game.\");setStep(0);}},[timeLeft,step]);// Function to read the message aloud and highlight current word\nconst readMessageAloud=text=>{const speech=new SpeechSynthesisUtterance(text);speech.lang='en-US';speech.pitch=1;speech.rate=0.8;// Slower reading speed\n// Start highlighting when speech starts\nspeech.onstart=()=>{setIsSpeaking(true);};// Highlight each word as it is spoken\nspeech.onboundary=event=>{if(event.name==='word'){const words=text.split(\" \");// Calculate the index of the current word\nconst currentIndex=words.join(\" \").substring(0,event.charIndex).split(\" \").length-1;setCurrentWordIndex(currentIndex);}};// Stop highlighting when speech ends\nspeech.onend=()=>{setIsSpeaking(false);setCurrentWordIndex(-1);// Reset the word index\n};window.speechSynthesis.speak(speech);};// Trigger reading message aloud whenever the message changes, except the initial message\nuseEffect(()=>{if(message&&step>0){// Skip audio for initial message\nreadMessageAloud(message);}},[message,step]);const nextStep=()=>{switch(step){case 1:setMessage(\"Step 1: Multiply your number by 2.\");break;case 2:setMessage(`Step 2: Add ${randomEvenNumber} to the result.`);break;case 3:setMessage(\"Step 3: Divide the result by 2.\");break;case 4:setMessage(\"Step 4: Now, subtract your original number from the result.\");break;case 5:setMessage(`The answer is... ${answer}! Isn’t it magic?`);break;default:setMessage(\"Think of a number in your mind, and let’s do some magic with it!\");setStep(1);return;}setStep(step+1);};const prevStep=()=>{if(step>1)setStep(step-1);};const resetGame=()=>{setStep(0);setMessage(\"Press 'Start Game' to begin the magic!\");setTimeLeft(300);};const formatTime=seconds=>{const minutes=Math.floor(seconds/60);const secs=seconds%60;return`${minutes}:${secs<10?'0':''}${secs}`;};return/*#__PURE__*/_jsxs(\"div\",{style:{width:'100vw',height:'100vh',overflow:'hidden',display:'flex',justifyContent:'center',alignItems:'center',position:'relative',backgroundSize:'cover',backgroundPosition:'center'},children:[/*#__PURE__*/_jsx(ThreeBackground,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center p-6 text-white relative z-10 bg-black bg-opacity-90 rounded-lg max-w-2xl shadow-2xl\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-5xl font-bold mb-8 text-yellow-300\",children:\"Magic Number Guess\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-medium mb-8\",children:message.split(\" \").map((word,index)=>/*#__PURE__*/_jsxs(\"span\",{className:currentWordIndex===index?'text-violet-500 font-bold':'',children:[word,' ']},index))}),step>0&&step<=5&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-semibold text-red-500 mb-8\",children:[\"Time Left: \",formatTime(timeLeft)]}),step===0?/*#__PURE__*/_jsx(\"button\",{onClick:startGame,className:\"game-button bg-green-500 text-2xl text-white font-semibold rounded-lg\",children:\"Start Game\"}):/*#__PURE__*/_jsxs(\"div\",{className:`flex ${step>1?'justify-between w-full':'justify-center'} max-w-lg mt-8`,children:[step>1&&/*#__PURE__*/_jsx(\"button\",{onClick:prevStep,className:\"game-button bg-purple-500 text-2xl text-white font-semibold rounded-lg\",children:\"Back\"}),step<=5?/*#__PURE__*/_jsx(\"button\",{onClick:nextStep,className:\"game-button bg-yellow-400 text-2xl text-gray-800 font-semibold rounded-lg\",children:\"Next\"}):/*#__PURE__*/_jsx(\"button\",{onClick:resetGame,className:\"game-button bg-green-600 text-2xl text-white font-semibold rounded-lg\",children:\"Restart\"})]})]})]});};export default Game;","map":{"version":3,"names":["React","useState","useEffect","ThreeBackground","jsx","_jsx","jsxs","_jsxs","Game","step","setStep","message","setMessage","randomEvenNumber","setRandomEvenNumber","answer","setAnswer","timeLeft","setTimeLeft","isSpeaking","setIsSpeaking","currentWordIndex","setCurrentWordIndex","initializeGame","evenNumber","Math","floor","random","startGame","timerId","setInterval","prev","clearInterval","readMessageAloud","text","speech","SpeechSynthesisUtterance","lang","pitch","rate","onstart","onboundary","event","name","words","split","currentIndex","join","substring","charIndex","length","onend","window","speechSynthesis","speak","nextStep","prevStep","resetGame","formatTime","seconds","minutes","secs","style","width","height","overflow","display","justifyContent","alignItems","position","backgroundSize","backgroundPosition","children","className","map","word","index","onClick"],"sources":["/Users/payal/Desktop/MindGame/client/src/components/Game.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ThreeBackground from './ThreeBackground';\nimport './Game.css';\n\nconst Game = () => {\n  const [step, setStep] = useState(0);\n  const [message, setMessage] = useState(\"Press 'Start Game' to begin the magic!\");\n  const [randomEvenNumber, setRandomEvenNumber] = useState(10);\n  const [answer, setAnswer] = useState(5);\n  const [timeLeft, setTimeLeft] = useState(300);\n  const [isSpeaking, setIsSpeaking] = useState(false);  // <-- Add this line\n  const [currentWordIndex, setCurrentWordIndex] = useState(-1);\n\n  const initializeGame = () => {\n    const evenNumber = Math.floor(Math.random() * 10) * 2 + 2;\n    setRandomEvenNumber(evenNumber);\n    setAnswer(evenNumber / 2);\n  };\n\n  const startGame = () => {\n    setStep(1);\n    setMessage(\"Think of a number in your mind, and let’s do some magic with it!\");\n    setTimeLeft(300);\n    initializeGame();\n  };\n\n  useEffect(() => {\n    if (timeLeft > 0 && step > 0 && step <= 5) {\n      const timerId = setInterval(() => setTimeLeft((prev) => prev - 1), 1000);\n      return () => clearInterval(timerId);\n    } else if (timeLeft === 0) {\n      setMessage(\"Time's up! Please restart the game.\");\n      setStep(0);\n    }\n  }, [timeLeft, step]);\n\n  // Function to read the message aloud and highlight current word\n  const readMessageAloud = (text) => {\n    const speech = new SpeechSynthesisUtterance(text);\n    speech.lang = 'en-US';\n    speech.pitch = 1;\n    speech.rate = 0.8; // Slower reading speed\n\n    // Start highlighting when speech starts\n    speech.onstart = () => {\n      setIsSpeaking(true);\n    };\n    \n    // Highlight each word as it is spoken\n    speech.onboundary = (event) => {\n      if (event.name === 'word') {\n        const words = text.split(\" \");\n        // Calculate the index of the current word\n        const currentIndex = words.join(\" \").substring(0, event.charIndex).split(\" \").length - 1;\n        setCurrentWordIndex(currentIndex);\n      }\n    };\n\n    // Stop highlighting when speech ends\n    speech.onend = () => {\n      setIsSpeaking(false);\n      setCurrentWordIndex(-1); // Reset the word index\n    };\n\n    window.speechSynthesis.speak(speech);\n  };\n\n  // Trigger reading message aloud whenever the message changes, except the initial message\n  useEffect(() => {\n    if (message && step > 0) { // Skip audio for initial message\n      readMessageAloud(message);\n    }\n  }, [message, step]);\n\n  const nextStep = () => {\n    switch (step) {\n      case 1:\n        setMessage(\"Step 1: Multiply your number by 2.\");\n        break;\n      case 2:\n        setMessage(`Step 2: Add ${randomEvenNumber} to the result.`);\n        break;\n      case 3:\n        setMessage(\"Step 3: Divide the result by 2.\");\n        break;\n      case 4:\n        setMessage(\"Step 4: Now, subtract your original number from the result.\");\n        break;\n      case 5:\n        setMessage(`The answer is... ${answer}! Isn’t it magic?`);\n        break;\n      default:\n        setMessage(\"Think of a number in your mind, and let’s do some magic with it!\");\n        setStep(1);\n        return;\n    }\n    setStep(step + 1);\n  };\n\n  const prevStep = () => {\n    if (step > 1) setStep(step - 1);\n  };\n\n  const resetGame = () => {\n    setStep(0);\n    setMessage(\"Press 'Start Game' to begin the magic!\");\n    setTimeLeft(300);\n  };\n\n  const formatTime = (seconds) => {\n    const minutes = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;\n  };\n\n  return (\n    <div\n      style={{\n        width: '100vw',\n        height: '100vh',\n        overflow: 'hidden',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        position: 'relative',\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n      }}\n    >\n      {/* Three.js Stereo Background */}\n      <ThreeBackground />\n\n      {/* Main Game Content */}\n      <div className=\"flex flex-col items-center justify-center p-6 text-white relative z-10 bg-black bg-opacity-90 rounded-lg max-w-2xl shadow-2xl\">\n        <h1 className=\"text-5xl font-bold mb-8 text-yellow-300\">Magic Number Guess</h1>\n        <p className=\"text-2xl font-medium mb-8\">\n          {message.split(\" \").map((word, index) => (\n            <span key={index} className={currentWordIndex === index ? 'text-violet-500 font-bold' : ''}>\n              {word}{' '}\n            </span>\n          ))}\n        </p>\n\n        {step > 0 && step <= 5 && (\n          <p className=\"text-2xl font-semibold text-red-500 mb-8\">Time Left: {formatTime(timeLeft)}</p>\n        )}\n\n        {step === 0 ? (\n          <button\n            onClick={startGame}\n            className=\"game-button bg-green-500 text-2xl text-white font-semibold rounded-lg\"\n          >\n            Start Game\n          </button>\n        ) : (\n          <div className={`flex ${step > 1 ? 'justify-between w-full' : 'justify-center'} max-w-lg mt-8`}>\n            {step > 1 && (\n              <button\n                onClick={prevStep}\n                className=\"game-button bg-purple-500 text-2xl text-white font-semibold rounded-lg\"\n              >\n                Back\n              </button>\n            )}\n            {step <= 5 ? (\n              <button\n                onClick={nextStep}\n                className=\"game-button bg-yellow-400 text-2xl text-gray-800 font-semibold rounded-lg\"\n              >\n                Next\n              </button>\n            ) : (\n              <button\n                onClick={resetGame}\n                className=\"game-button bg-green-600 text-2xl text-white font-semibold rounded-lg\"\n              >\n                Restart\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Game;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}